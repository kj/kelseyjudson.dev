<!DOCTYPE html>
<html class="theme-mono" lang="en-NZ">
<head>
  <title>Rules | Docs | Redirectify | kelseyjudson.dev</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1" />
  <link href="/kelseyjudson.dev.css" rel="stylesheet" />
  <link href="/favicon.png" rel="icon" />
  <script defer src="/kelseyjudson.dev.js"></script></head>
<body>
  <header class="header">
    <div class="header-inner page-width">
      <div class="logo">
        <a href="/">
          <img src="/logo_256.png" />
        </a>
      </div>
      <div class="name">
        kelseyjudson.dev
      </div>
      <nav class="menu">
        <ul>
          <li class="has-dropdown">
            <a href="#">
              <div class="icon">
                <svg version="1.1" viewBox="0 0 23 23" xmlns="http://www.w3.org/2000/svg">
                  <path d="m4.5 8.5 7 7 7-7" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1px"/>
                </svg>            </div>
              <span>
                Shopify apps
              </span>
            </a>
            <ul class="dropdown">
              <h3>Campaignified</h3>
              <li><a href="/campaignified/docs/">Docs</a></li>
              <li><a href="https://apps.shopify.com/campaignified" target="_blank">Install</a></li>
              <li><a href="/campaignified/privacy.html">Privacy policy</a></li>
              <h3>Redirectify</h3>
              <li><a href="/redirectify/docs/">Docs</a></li>
              <li><a href="https://apps.shopify.com/redirectify" target="_blank">Install</a></li>
              <li><a href="/redirectify/privacy.html">Privacy policy</a></li>
            </ul>
          </li>
          <li>
            <a href="mailto:hello@kelseyjudson.dev">Contact</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>  <main>
    <section class="page-width">
      <nav class="breadcrumbs">
        <a href="/">Home</a><span class="divider">/</span><a href="/redirectify/docs/">Redirectify Docs</a><span class="divider">/</span><a href="/redirectify/docs/general/">General</a><span class="divider">/</span><span class="current">Rules</span>
      </nav>
      <h1>Rules</h1>
      <nav class="toc">
        <ul>
        <li><a href="#patterns">Patterns</a>
        <ul>
        <li><a href="#wildcard-patterns">Wildcard patterns</a></li>
        <li><a href="#regexp-patterns">Regexp patterns</a></li>
        </ul></li>
        <li><a href="#target-paths">Target paths</a></li>
        <li><a href="#replacements">Replacements</a>
        <ul>
        <li><a href="#the-search-replacement">The {search} replacement</a></li>
        </ul></li>
        <li><a href="#examples">Examples</a></li>
        <li><a href="#things-to-note">Things to note</a>
        <ul>
        <li><a href="#in-the-browser">In the browser</a></li>
        <li><a href="#existing-paths">Existing paths</a></li>
        <li><a href="#what-if-more-than-one-rule-matches-a-path">What if more than one rule matches a path?</a></li>
        </ul></li>
        <li><a href="#still-need-help">Still need help?</a></li>
        </ul>
      </nav>
<p>The <strong>Rules</strong> page in Redirectify allows you to create rules for automatic redirect creation. Each rule consists of a ‘pattern’ to match imported paths by, and a ‘target path’ which will be used to create a redirect for any path that matches the pattern. Rules are applied to all paths imported into the app whether manually (uploaded from a CSV file) or via <a href="https://help.lucid.nz/en/articles/3213699-live-tracking">live</a> or <a href="https://help.lucid.nz/en/articles/3213704-proactive-tracking">proactive</a> tracking.</p>
<p>With cleverly set up rules for automation, you may very rarely need to enter the app to deal with errors manually!</p>
<h2 id="patterns">Patterns</h2>
<p>The first field in a rule is the ‘pattern’ to match paths by. As with filters, there are two types of patterns; <strong>Wildcard</strong> and the more advanced <strong>Regexp</strong> (short for ‘regular expression’). Unlike filters, both wildcard and regexp patterns must match the full path from beginning to end.</p>
<h3 id="wildcard-patterns">Wildcard patterns</h3>
<p>Wildcard patterns are the easiest to use. They make use the ‘*’ character as a wildcard matching any string of text. For example, a rule with the pattern</p>
<pre><code>/blogs/old-name/*</code></pre>
<p>-would match each of the following paths:</p>
<pre><code>/blogs/old-name/meet-the-team
/blogs/old-name/our-story
/blogs/old-name/how-we-support-local-businesses</code></pre>
<p>Rules must match the full path from beginning to end. Therefore, if you want to match only part of a path you should surround the pattern with ‘*’ on each side. The pattern</p>
<pre><code>*support*</code></pre>
<p>-would match any path containing (anywhere) the word ‘support’.</p>
<h3 id="regexp-patterns">Regexp patterns</h3>
<p>Regular expressions are very powerful, but quite a complex topic. Rather than trying to cover them here, you can learn the basics fairly quickly through <a href="https://github.com/ziishaned/learn-regex/blob/master/README.md">this guide</a>.</p>
<h2 id="target-paths">Target paths</h2>
<p>The second field in a rule is the target path to redirect to if a rule pattern matches. Within the target path, you can back reference parts of the original pattern. In the case of wildcard patterns, this means any parts matched by a wildcard character ‘*’, whereas for regexp patterns, capture groups may be referenced. Each part is referenced in the order it appears by a backslash followed by a number. For example, ‘\1’ references the first instance, while ‘\2’ references the second and so on. For consistency with ‘replacements’ described below, you may also choose to use the form ‘{1}’ in place of ‘\1’. </p>
<p>For example, given the wildcard pattern</p>
<pre><code>/blogs/old-name/*</code></pre>
<p>You might want to redirect all articles under /blogs/old-name to /blogs/new-name. To achieve this, you could use the target path</p>
<pre><code>/blogs/new-name/\1</code></pre>
<p>Here, ‘\1’ will be substituted for the article from the old path in any redirect that is created. </p>
<p>In case you’re using regexp patterns, the equivalent pattern (using a capture group) would be</p>
<pre><code>/blogs/old-name/(.*)</code></pre>
<p>The target path can remain the same as for the wildcard example above.</p>
<h2 id="replacements">Replacements</h2>
<p>To cover certain use cases not possible otherwise, you can specify special ‘replacements’ in your target path. Replacements are formed by a name surrounded by curly braces, for example ‘{search}’.</p>
<h3 id="the-search-replacement">The {search} replacement</h3>
<p>This replacement takes the handle (the last part of the URL) of a collection, product, etc., and replaces all ‘-’ with ‘+’. A ‘+’ is treated as a space character by the browser. This replacement is intended to be used in a target path like</p>
<pre><code>/search?q={search}</code></pre>
<p>Given a path like</p>
<pre><code>/collections/example/products/example-product</code></pre>
<p>-the resulting redirect</p>
<pre><code>/search?q=example+product</code></pre>
<p>-will redirect to your store’s search page, with the search term ‘example product’.</p>
<h2 id="examples">Examples</h2>
<p>Say you wanted to redirect all deleted product paths nested under collections to the base collection path, you could use a wildcard pattern like</p>
<pre><code>/collections/*/products/*</code></pre>
<p>-and target</p>
<pre><code>/collections/\1</code></pre>
<p>In combination with proactive tracking, using this rule will mean you never need to open the app to manually create redirects after you delete a product.</p>
<h2 id="things-to-note">Things to note</h2>
<h3 id="in-the-browser">In the browser</h3>
<p>Rules even apply in the browser. When a visitor stumbles across an undiscovered 404 page, they will be redirected automatically by the browser if there is a matching rule. Live tracking will then pick up the error and a permanent redirect will be created based on the rule.</p>
<p>Please note that for this behaviour to function, we need to make all rule definitions publicly accessible.</p>
<h3 id="existing-paths">Existing paths</h3>
<p>Any existing paths in your list that match at the time you save your rules will automatically be redirected.</p>
<h3 id="what-if-more-than-one-rule-matches-a-path">What if more than one rule matches a path?</h3>
<p>If more than one rule matches an imported path, the first matching rule will be used to create a redirect.</p>
<h2 id="still-need-help">Still need help?</h2>
<p>Just send us a message explaining what you’re trying to achieve. We’re happy to help you get set up!</p>
    </section>
  </main>
</body>
</html>
